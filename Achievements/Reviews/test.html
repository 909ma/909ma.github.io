<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>분석 결과</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
  </head>
  <body>
    <h1 id="title">분석 결과</h1>

    <div id="content"></div>

    <h2>스크린샷 화면</h2>
    <img id="screenshot" src="" alt="스크린샷 화면" />

    <h2>분석표에 따른 레이더 차트</h2>
    <canvas id="radarChart"></canvas>

    <script>
      // JSON 데이터를 비동기적으로 가져오기
      fetch("../data/data.json")
        .then((response) => response.json())
        .then((jsonData) => {
          // 제목 설정
          document.getElementById("title").textContent = jsonData.title;

          // 본문 내용 설정
          document.getElementById("content").innerHTML = jsonData.content;

          // 스크린샷 이미지 설정
          document.getElementById("screenshot").src = jsonData.screenshot;

          // 레이더 차트 데이터 설정
          var radarData = {
            labels: jsonData.labels,
            datasets: [
              {
                label: "데이터셋",
                backgroundColor: "rgba(75, 192, 192, 0.2)",
                borderColor: "rgba(75, 192, 192, 1)",
                pointBackgroundColor: "rgba(75, 192, 192, 1)",
                pointBorderColor: "#fff",
                pointHoverBackgroundColor: "#fff",
                pointHoverBorderColor: "rgba(75, 192, 192, 1)",
                data: jsonData.data,
              },
            ],
          };

          // 레이더 차트 옵션 설정
          var radarOptions = {
            scale: {
              ticks: {
                beginAtZero: true,
                min: 0,
                max: 6,
                stepSize: 1,
              },
            },
          };

          // 레이더 차트 생성
          var ctx = document.getElementById("radarChart").getContext("2d");
          new Chart(ctx, {
            type: "radar",
            data: radarData,
            options: radarOptions,
          });
        })
        .catch((error) => {
          console.error(
            "JSON 데이터를 가져오는 동안 오류가 발생했습니다:",
            error
          );
        });
    </script>
  </body>
</html>

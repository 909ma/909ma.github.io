# 전자금고

NXP를 사용하여 전자 금고 구현하기

---

개발기간: 2021.05.26. ~ 2021.06.09.  
개발인원: 2명

개발환경:

1. OS: Window
2. 언어: 어셈블리, C
3. Processer: NXP

깃허브 링크: -.

---

<details>
    <summary>📁 수행과정</summary>

## 수행과정

<center>

|                                하드웨어 결선도                                |
| :---------------------------------------------------------------------------: |
| <img src="./2021.06.%20전자금고/1%20하드웨어%20결선도.png" width="750"></img> |

|                                            하드웨어 결선 세부 내역                                            |
| :-----------------------------------------------------------------------------------------------------------: |
| <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/2%20하드웨어%20결선%20세부내역.png" width="750"></img> |

|                                            실제 연결한 모습                                             |
| :-----------------------------------------------------------------------------------------------------: |
| <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/3%20실제%20연결한%20모습.png" width="750"></img> |

|                                           소프트웨어 설계                                            |
| :--------------------------------------------------------------------------------------------------: |
| <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/4%20소프트웨어%20설계.png" width="750"></img> |

</center>

</details>

---

<details>
    <summary>📁 수행결과</summary>
 
 ## 수행결과

### 1. 대기화면

<center>

|                                      WAIT를 출력하는 모습                                       |                                       대기 모드 종료 입력                                       |                               성공적으로 대기 모드가 종료된 모습                                |
| :---------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------: |
| <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/5%20대기화면%201.png" width="750"></img> | <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/5%20대기화면%202.png" width="750"></img> | <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/5%20대기화면%203.png" width="750"></img> |
|                       대기 중에는 성공적으로 Wait를 출력하는 모습입니다.                        |                          대기 모드를 종료하기 위해 버튼을 눌렀습니다.                           |                            성공적으로 대기 모드가 종료된 모습입니다.                            |

</center>

### 2. 입금

<center>

|                                     q 1 2 3 4 t 를 입력                                      |                                     3 0 0 t를 입력                                      |                                  5300이 표시되는 모습                                   |
| :------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------: |
|   <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/6 입금 1.png" width="750"></img>    | <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/6 입금 2.png" width="750"></img> | <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/6 입금 3.png" width="750"></img> |
| 입금 모드 진입 키인 q를 입력 후 올바른 암호 1234를 입한 뒤 엔터 대용키인 t를 입력하였습니다. |                   그 후 입금할 금액 300을 입력 후 t를 입력하였습니다.                   |            기존 자산인 5000에 300이 더해져 5300이 성공적으로 뜬 모습입니다.             |

</center>

### 3. 출금

<center>

|                                     w 1 2 3 4 t를 입력                                      |                                    5 0 0 0 t를 입력                                     |                                  0300이 표시되는 모습                                   |
| :-----------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------: |
|   <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/7 출금 1.png" width="750"></img>   | <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/7 출금 2.png" width="750"></img> | <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/7 출금 3.png" width="750"></img> |
| 출금 모드 진입키인 w를 입력한 후 올바른 암호 1234를 넣고 엔터 대용키 t를 입력한 모습입니다. |                   출금 금액인 5000을 입력한 후 t를 입력한 모습입니다.                   |        이전 자산 5300에서 5000이 감산되어 300이 성공적으로 출력되는 모습입니다.         |

</center>

### 4. 암호 갱신

<center>

|                                         e 1 2 3 4 t를 입력                                         |                                       4 5 6 7 t를 입력                                       |                               Success에서 e가 잠깐 표시되는 중                               |
| :------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------: |
|    <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/8 암호 갱신 1.png" width="750"></img>    | <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/8 암호 갱신 2.png" width="750"></img> | <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/8 암호 갱신 3.png" width="750"></img> |
| 암호 갱신 모드 진입키인 e를 입력 후 올바른 비밀번호 1234를 넣고 엔터 대용키 t를 입력한 모습입니다. |                  새로 갱신할 비밀번호 4567을 입력 후 t를 입력한 모습입니다.                  |            성공적으로 바뀌었음을 나타내는 Success가 출력되어 지나가는 모습입니다.            |

</center>

### 5. 실패 화면

<center>

|                                                     FAIL 표시                                                     |
| :---------------------------------------------------------------------------------------------------------------: |
|               <img src="./2021.06.%20전자금고/../2021.06.%20전자금고/9 실패.png" width="250"></img>               |
| 비밀번호를 틀리거나 입금 한도를 초과하는 경우 등 실패가 떠야 하는 상황에서 FAIL이 정상적으로 출력되는 모습입니다. |

</center>

</details>

## 개선 및 반성점

기존 보유액인 5000에서 입출금액에 따라 정상적으로 감가산액이 계산되어 출력되며, 동시에 설정해놓은 비밀번호와 일치 할 경우 이행하고 불일치하는 경우 하던 것을 멈추는 것을 구현하였습니다.  
 현재 문제점은 표시할 수 있는 자릿수가 네 자릿수에 그쳤다는 것이 있으며, 하이퍼 터미널과의 연결이 불안정해 똑같은 환경에서도 잡음이 발생하는 경우 정상적인 작동을 기대할 수 없다는 점이 있습니다.  
 또한 첫 번째 문제에 대한 해결법으로 4x4 키패드를 사용하는 방법이 제시될 수 있습니다. 하지만 저희가 기존에 생각한 방법이 4x4 키패드였고 실제 구현 후 키패드에서 버튼이 한번 눌릴 때 값이 튀어 여러 번 입력되는 순간 해결 해야 될 문제점이 배로 불어난다는 문제점이 있습니다.  
 두 번째 문제에 대해 저희가 추론하는 바는 하이퍼터미널을 처음에 실행시키면 Auto detcet로 작동하는데 조금의 시간이 지나면 4800 8-N-1 으로 바뀌며 입력이 되는 것으로 미루어보아 예열하는 시간이 필요한 것으로 보입니다.
